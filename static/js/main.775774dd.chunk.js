(this.webpackJsonpstockdash=this.webpackJsonpstockdash||[]).push([[0],{32:function(t,e,n){},33:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(1),i=n.n(o),c=n(22),a=n.n(c),s=(n(32),n(8)),l=n(9),u=n(14),d=n(13),f=(n(33),n(2)),b=n(19),p=n(4),v=n.n(p),h=n(17),j=n(7),x=n(18),g=n(5),m=n.n(g),y=i.a.createContext(),k=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).setPage=function(t){r.setState({page:t})},r.setStocks=function(t){r.setState({filteredStocks:t})},r.addStock=function(t){var e=Object(x.a)(r.state.favorites);e.length<=5&&(e.push(t),r.setState({favorites:e}))},r.removeStocks=function(t){var e=Object(x.a)(r.state.favorites);if(e.length>0){var n=e.filter((function(e,n){return n!==t}));r.setState({favorites:n})}},r.confirmFavorites=function(){r.setState({page:"dashboard",isLoggedIn:!0},(function(){r.fetchQuotes()})),localStorage.setItem("favoriteStocks",JSON.stringify({favorites:r.state.favorites})),localStorage.setItem("isLoggedIn",JSON.stringify({isLoggedIn:r.state.isLoggedIn}))},r.getStockRec=function(){var t=Object(j.a)(v.a.mark((function t(e,n){var o,i,c,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=[],t.prev=1,i="https://finnhub.io/api/v1/stock/recommendation?symbol=".concat(e,"&token=buv946748v6vrjlub4i0"),t.next=5,fetch(i).then((function(t){return t.json()})).then((function(t){return t}));case 5:c=t.sent,a=Object(h.a)(c),o=a.slice(0),r.setState({favoritePrices:o,currentFavorite:n}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log("error"+t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,n){return t.apply(this,arguments)}}(),r.state=Object(b.a)(Object(b.a)({page:"quote"},r.initialPage()),{},{setPage:r.setPage,stockList:[],addStock:r.addStock,confirmFavorites:r.confirmFavorites,removeStocks:r.removeStocks,setStocks:r.setStocks,getStockRec:r.getStockRec,currentRec:[],favoritePrices:[]}),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchStocks(),this.fetchQuotes()}},{key:"fetchStocks",value:function(){var t=Object(j.a)(v.a.mark((function t(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://finnhub.io/api/v1/stock/symbol?exchange=US&token=buv946748v6vrjlub4i0",t.prev=1,t.next=4,fetch("https://finnhub.io/api/v1/stock/symbol?exchange=US&token=buv946748v6vrjlub4i0").then((function(t){return t.json()})).then((function(t){return t}));case 4:e=t.sent,console.log(e.slice(0,100)),this.setState({stockList:e}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("error");case 12:case"end":return t.stop()}}),t,this,[[1,9]])})));return function(){return t.apply(this,arguments)}}()},{key:"fetchQuotes",value:function(){var t=Object(j.a)(v.a.mark((function t(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==this.state.isLoggedIn){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.quotes();case 4:e=t.sent,this.setState({favoritePrices:e});case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"quotes",value:function(){var t=Object(j.a)(v.a.mark((function t(){var e,n,r,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,n=this.state.favorites,this.setState({currentFavorite:n[0]}),console.log(n),r="https://finnhub.io/api/v1/stock/recommendation?symbol=".concat(n[0].displaySymbol,"&token=buv946748v6vrjlub4i0"),t.next=8,fetch(r).then((function(t){return t.json()})).then((function(t){return t}));case 8:o=t.sent,console.log(o),i=Object(h.a)(o),e=i.slice(0),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log("error");case 17:return t.abrupt("return",e);case 18:case"end":return t.stop()}}),t,this,[[1,14]])})));return function(){return t.apply(this,arguments)}}()},{key:"initialPage",value:function(){var t=JSON.parse(localStorage.getItem("favoriteStocks")),e=JSON.parse(localStorage.getItem("isLoggedIn"));return console.log(t),console.log(e),t?{favorites:t.favorites,isLoggedIn:e.isLoggedIn}:{page:"quote",isLoggedIn:!1}}},{key:"render",value:function(){return Object(r.jsx)(y.Provider,{value:this.state,children:this.props.children})}}]),n}(o.Component),O=n(3);function C(){var t=Object(f.a)(["\ntext-shadow: 2px 2px #ff0000;\n"]);return C=function(){return t},t}function S(){var t=Object(f.a)(["\ncursor:pointer;\n","\n"]);return S=function(){return t},t}function A(){var t=Object(f.a)(["\npadding:1.4em;\ndisplay:grid;\ngrid-template-columns:400px auto 100px 100px\n"]);return A=function(){return t},t}function F(){var t=Object(f.a)(["\nfont-size:1.5em;\nmargin-left:0\n"]);return F=function(){return t},t}O.b.div(F());var L=O.b.div(A()),w=O.b.div(S(),(function(t){return t.active&&Object(O.a)(C())})),B=function(t){var e=t.name;return Object(r.jsx)(y.Consumer,{children:function(t){var n=t.page,o=t.setPage;return Object(r.jsx)(w,{onClick:function(){o(e)},active:n===e,children:e})}})},I=function(){return Object(r.jsxs)(L,{children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)(B,{name:"quote"}),Object(r.jsx)(B,{name:"dashboard"})]})},D=function(t){var e=t.name,n=t.children;return Object(r.jsx)(y.Consumer,{children:function(t){return t.page===e?n:null}})},P=n(16),W=n.n(P);function T(t){return t.slice(0,4).map((function(t){return t.hold}))}function G(t){return t.slice(0,4).map((function(t){return t.sell}))}function M(t){return t.slice(0,4).map((function(t){return t.period}))}function q(t){return t.slice(0,1).map((function(t){return t.symbol}))}W.a.Highcharts.setOptions({colors:["#DDDF0D","#55BF3B","#DF5353","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"#7E7F9A",borderWidth:0,className:"dark-container",plotBackgroundColor:"#7E7F9A",plotBorderColor:"#000",plotBorderWidth:0},title:{style:{color:"#C0C0C0",font:'bold 16px "Trebuchet MS", Verdana, sans-serif'}},subtitle:{style:{color:"#666666",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},xAxis:{gridLineColor:"#333333",gridLineWidth:0,labels:{style:{color:"#A0A0A0"}},lineColor:"#A0A0A0",tickColor:"#A0A0A0",title:{style:{color:"#CCC",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},yAxis:{gridLineColor:"#333333",gridLineWidth:0,labels:{style:{color:"#A0A0A0"}},lineColor:"#A0A0A0",minorTickInterval:null,tickColor:"#A0A0A0",tickWidth:1,title:{style:{color:"#CCC",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.75)",style:{color:"#F0F0F0"}},toolbar:{itemStyle:{color:"silver"}},plotOptions:{line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},spline:{marker:{lineColor:"#333"}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"white"}},legend:{backgroundColor:"rgba(0, 0, 0, 0.5)",itemStyle:{font:"9pt Trebuchet MS, Verdana, sans-serif",color:"#A0A0A0"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#444"},title:{style:{color:"#C0C0C0"}}},credits:{style:{color:"#666"}},labels:{style:{color:"#CCC"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#606060"],[.6,"#333333"]]},stroke:"#000000"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"}});var J=function(){return Object(r.jsx)(y.Consumer,{children:function(t){var e,n,o,i,c,a,s=t.favoritePrices;return Object(r.jsx)("div",{children:s.length>0?Object(r.jsx)(W.a,{config:(a=s,e=a.slice(0,4).map((function(t){return t.buy})),n=T(s),o=G(s),i=M(s),c=q(s),{chart:{type:"column"},title:{text:"".concat(c," recommendation trends")},xAxis:{categories:i},yAxis:{min:0,title:{text:"Analysis"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:"gray"}}},legend:{align:"right",x:-30,verticalAlign:"top",y:25,floating:!0,backgroundColor:"white",borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{headerFormat:"<b>{point.x}</b><br/>",pointFormat:"{series.name}: {point.y}<br/>Total: {point.stackTotal}"},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[{name:"buy",data:e},{name:"hold",data:n},{name:"sell",data:o}]})}):Object(r.jsx)("div",{children:"no avaliable data, please select some stocks"})})}})},z="box-shadow: 0px 0px 4px 2px #7DCE82";function E(){var t=Object(f.a)(["\n&:hover{\n cursor:pointer;\n ","\n}\n"]);return E=function(){return t},t}function N(){var t=Object(f.a)(["\ndisabled:true;\nopacity:0.5\n"]);return N=function(){return t},t}function R(){var t=Object(f.a)(["\n&:hover{\n cursor:pointer;\n ","\n}\n"]);return R=function(){return t},t}function V(){var t=Object(f.a)(["\n","\n"]);return V=function(){return t},t}function H(){var t=Object(f.a)(["\n",";\n",";\npadding:30px;\n"]);return H=function(){return t},t}var Q=O.b.div(H(),"background-color:#3C4F76 ","box-shadow: 0px 0px 5px 1px #121d5b"),U=Object(O.b)(Q)(V(),z),K=Object(O.b)(Q)(R(),z),X=Object(O.b)(Q)(N()),Y=Object(O.b)(Q)(E(),"box-shadow: 0px 0px 2px 2px #e41111");function Z(){var t=Object(f.a)(["\ndisplay:grid;\ngrid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\ngrid-gap:15px;\nmargin:40px 0;\n"]);return Z=function(){return t},t}var $=O.b.div(Z()),_=function(){return Object(r.jsx)(y.Consumer,{children:function(t){var e=t.favorites,n=t.getStockRec,o=t.currentFavorite;return Object(r.jsx)($,{children:e.map((function(t){return t===o?Object(r.jsx)(U,{children:t.description?t.description:t.displaySymbol}):Object(r.jsx)(K,{onClick:function(){return n(t.displaySymbol,t)},children:t.description?t.description:t.displaySymbol})}))})}})},tt=function(){return Object(r.jsxs)(D,{name:"dashboard",children:[Object(r.jsx)(_,{}),Object(r.jsx)(J,{})]})};function et(){var t=Object(f.a)(["\n width:45%;\n text-align:left;\n margin-left:20px\n\n"]);return et=function(){return t},t}var nt=O.b.div(et()),rt=function(){return Object(r.jsx)(y.Consumer,{children:function(t){return t.isLoggedIn?null:Object(r.jsx)(nt,{children:"Welcome to stock dashboard, please search or select your favorite stocks and confirm to get recommendation dashboard for your first pick"})}})};function ot(){var t=Object(f.a)(["\njustify-self:right;\ndisplay:none; \n",":hover &{\n  display:block;\n  color:red;\n\n}\n"]);return ot=function(){return t},t}function it(){var t=Object(f.a)(["\ndisplay:grid;\ngrid-template-columns: 2fr 1fr;\n\n"]);return it=function(){return t},t}function ct(){var t=Object(f.a)(["\ndisplay:grid;\ngrid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\ngrid-gap:15px;\nmargin-top:40px\n"]);return ct=function(){return t},t}var at=O.b.div(ct()),st=O.b.div(it()),lt=O.b.div(ot(),Y);function ut(t,e,n,r){return e?n:function(t,e){return t||e.slice(0,100)}(r,t)}var dt=function(t){var e=t.topStockSection;return Object(r.jsx)(y.Consumer,{children:function(t){var n=t.stockList,o=t.addStock,i=t.removeStocks,c=t.filteredStocks,a=t.favorites;t.isInFavorite;return Object(r.jsx)(at,{children:ut(n,e,a,c).map((function(t,n){return e?Object(r.jsx)(Y,{onClick:function(){return i(n)},children:Object(r.jsxs)(st,{children:[Object(r.jsx)("div",{children:t.description?t.description:t.displaySymbol}),Object(r.jsx)(lt,{children:"X"})]})}):a.includes(t)?Object(r.jsx)(X,{children:t.description?t.description:t.displaySymbol}):Object(r.jsx)(K,{onClick:function(){o(t)},children:t.description?t.description:t.displaySymbol})}))})}})};function ft(){var t=Object(f.a)(["\n display:flex;\n justify-content:center;\n padding:20px;\n ",";\n margin:50px auto;\n&:hover{\n cursor:pointer;\n color:green;\n}\n"]);return ft=function(){return t},t}var bt=O.b.div(ft(),"font-size: 1.5em;"),pt=function(){return Object(r.jsx)(y.Consumer,{children:function(t){var e=t.confirmFavorites;return Object(r.jsx)(bt,{onClick:function(){return e()},children:"Confirm"})}})},vt=n(26),ht=n.n(vt);function jt(){var t=Object(f.a)(["\nheight:25px;\nplace-self:center left;\n",";\n&:hover{\n   outline:2px solid #ccc;\n}\n"]);return jt=function(){return t},t}function xt(){var t=Object(f.a)(["\ndisplay:grid;\ngrid-template-columns:200px 200px;\njustify-content:center\n"]);return xt=function(){return t},t}var gt=O.b.div(xt()),mt=O.b.input(jt(),"font-size: 1.0em"),yt=m.a.debounce((function(t,e,n){var r=e.map((function(t){return t.description})),o=e.map((function(t){return t.displaySymbol})),i=r.concat(o),c=ht.a.filter(t,i,{}).map((function(t){return t.string})),a=m.a.pickBy(e,(function(t){return m.a.includes(c,t.description)||m.a.includes(c,t.displaySymbol)}));n(Object.values(a))}),500);var kt=function(){return Object(r.jsx)(y.Consumer,{children:function(t){var e=t.stockList,n=t.setStocks;return Object(r.jsxs)(gt,{children:[Object(r.jsx)("h2",{children:"Search stocks"}),Object(r.jsx)(mt,{placeholder:"e.g. AAPL",onKeyUp:function(t){return function(t,e,n){var r=t.target.value;r?yt(r,e,n):n(null)}(t,e,n)}})]})}})},Ot=function(){return Object(r.jsxs)(D,{name:"quote",children:[Object(r.jsx)(rt,{}),Object(r.jsx)(kt,{}),Object(r.jsx)(dt,{topStockSection:"topStockSection"}),Object(r.jsx)(pt,{}),Object(r.jsx)(dt,{})]})},Ct=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(k,{children:[Object(r.jsx)(I,{}),Object(r.jsx)(Ot,{}),Object(r.jsx)(tt,{})]})}}]),n}(o.Component);a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(Ct,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.775774dd.chunk.js.map